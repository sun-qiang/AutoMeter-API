webpackJsonp([5],{"93Yb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("0xDb"),c=a("NYxO"),r=a("M2mj"),o=a("EOGL"),l=a("bAzP"),p=a("at+U"),h=a("vuyV"),d=a("W5b6"),u=a("ZBZm"),m=a("QrUs"),f=a("vLgD");var g={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},b={components:{PanelGroup:r.default,LineChart:o.default,Chart:l.default,PieChart:p.default},data:function(){return{tmpapiperformancestatistics:{executeplanid:"",id:"",deployunitid:"",deployunitname:"",batchname:"",apiperformancestatisticsname:"",visittype:"",path:"",memo:""},tmpexecplantype:{usetype:"",projectid:""},testsceneList:[],testcaseList:[],planbatchList:[],execplanList:[],search:{page:1,size:10,executeplanname:"",testplanid:"",batchname:"",scenename:"",testscenenid:"",casename:"",caseid:"",projectid:""},lineChartData:g.newVisitis,piedeployunittypedata:[],pietypedeployunitcaseValueData:[],pietypedeployunitapiValueData:[],pieplancasetypedata:[],pieplancaseValueData:[],PlanStaticsData:[],DeployUnitStaticsData:[],LineDateData:[],responetimexdatas:[],responetimeydatas:[],TPSXData:[],TPSydatas:[],searchtest:{projectid:""}}},computed:n()({},Object(c.b)(["name","sidebar","projectlist","projectid"])),created:function(){this.searchtest.projectid=window.localStorage.getItem("pid"),this.tmpexecplantype.projectid=window.localStorage.getItem("pid"),this.getexecplanList()},methods:{handleSetLineChartData:function(e){this.lineChartData=g[e]},searchBy:function(){var e=this;console.log(this.search),this.$refs.searchgrap.validate(function(t){t&&(e.PlanStaticsData=[],e.LineDateData=[],e.responetimexdatas=[],e.responetimeydatas=[],e.TPSXData=[],e.TPSydatas=[],e.getperformancereportthreadtimedatas(),e.getperformancereportthreaddatas(),e.getresponetimexdatas(),e.getresponetimeydatas(),e.gettpsxdatas(),e.gettpsydatas())})},testplanselectChanged:function(e){var t=this;this.search.testplanid=null,this.search.testscenenid=null,this.search.scenename=null,this.search.caseid=null,this.search.casename=null,this.search.batchname=null,this.tmpapiperformancestatistics.executeplanid=0,this.testcaseList=null,this.testsceneList=null,this.planbatchList=null;for(var a=0;a<this.execplanList.length;a++)this.execplanList[a].executeplanname===e&&(this.tmpapiperformancestatistics.executeplanid=this.execplanList[a].id,this.search.testplanid=this.execplanList[a].id);Object(d.a)(this.tmpapiperformancestatistics).then(function(e){t.planbatchList=e.data}).catch(function(e){t.$message.error("加载执行计划列表失败")}),Object(u.b)(this.search).then(function(e){t.testsceneList=e.data.list}).catch(function(e){t.$message.error("加载执行计划列表失败")})},testsceneselectChanged:function(e){var t=this;this.search.testscenenid=null,this.search.caseid=null,this.search.casename=null,this.testcaseList=null;for(var a=0;a<this.testsceneList.length;a++)this.testsceneList[a].scenename===e&&(this.search.testscenenid=this.testsceneList[a].testscenenid),Object(m.b)(this.search).then(function(e){t.testcaseList=e.data.list}).catch(function(e){t.$message.error("加载执行计划列表失败")})},testcaseselectChanged:function(e){this.search.caseid=null;for(var t=0;t<this.testcaseList.length;t++)this.testcaseList[t].casename===e&&(this.search.caseid=this.testcaseList[t].testcaseid)},getexecplanList:function(){var e=this;this.tmpexecplantype.usetype="性能",Object(h.e)(this.tmpexecplantype).then(function(t){e.execplanList=t.data,console.log(e.execplanList)}).catch(function(t){e.$message.error("加载计划列表失败")})},gettpsxdatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/gettpsxdatas",method:"post",data:e})).then(function(e){t.TPSXData=e.data}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})},gettpsydatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/gettpsydatas",method:"post",data:e})).then(function(e){t.TPSydatas=e.data}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})},getresponetimexdatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/getresponetimexdatas",method:"post",data:e})).then(function(e){t.responetimexdatas=e.data,console.log(t.responetimexdatas)}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})},getresponetimeydatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/getresponetimeydatas",method:"post",data:e})).then(function(e){t.responetimeydatas=e.data,console.log(t.responetimeydatas)}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})},getperformancereportthreadtimedatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/gettimedatas",method:"post",data:e})).then(function(e){t.LineDateData=e.data,console.log("15天日期PlanDateData..................."),console.log(t.LineDateData)}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})},getperformancereportthreaddatas:function(){var e,t=this;(e=this.search,Object(f.a)({url:"/performancereport/thread/gettimethreaddatas",method:"post",data:e})).then(function(e){t.PlanStaticsData=e.data,console.log("15天日期PlanDateData..................."),console.log(t.LineDateData)}).catch(function(e){t.$message.error("加载统计执行计划X轴最近15天日期失败")})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"searchgrap",attrs:{inline:!0,model:e.search}},[e.hasPermission("apiperformancestatistics:search")?a("span",[a("el-form-item",{attrs:{label:"测试集合",prop:"executeplanname",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"测试集合"},on:{change:function(t){return e.testplanselectChanged(t)}},model:{value:e.search.executeplanname,callback:function(t){e.$set(e.search,"executeplanname",t)},expression:"search.executeplanname"}},[a("el-option",{attrs:{label:"请选择"}}),e._v(" "),e._l(e.execplanList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.executeplanname,value:e.executeplanname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"场景",prop:"scenename",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"测试场景"},on:{change:function(t){return e.testsceneselectChanged(t)}},model:{value:e.search.scenename,callback:function(t){e.$set(e.search,"scenename",t)},expression:"search.scenename"}},[a("el-option",{attrs:{label:"请选择"}}),e._v(" "),e._l(e.testsceneList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.scenename,value:e.scenename}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行计划",prop:"batchname",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"执行计划"},model:{value:e.search.batchname,callback:function(t){e.$set(e.search,"batchname",t)},expression:"search.batchname"}},[a("el-option",{attrs:{label:"请选择"}}),e._v(" "),e._l(e.planbatchList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.batchname,value:e.batchname}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用例",prop:"casename"}},[a("el-select",{attrs:{filterable:"",placeholder:"测试用例"},on:{change:function(t){return e.testcaseselectChanged(t)}},model:{value:e.search.casename,callback:function(t){e.$set(e.search,"casename",t)},expression:"search.casename"}},[a("el-option",{attrs:{label:"请选择"}}),e._v(" "),e._l(e.testcaseList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.casename,value:e.casename}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()])],1),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 15px","margin-bottom":"15px"}},[a("Chart",{attrs:{className:"testplanchar",id:"testplan",LineName:"并发线程",PlanDateData:e.LineDateData,StaticsData:e.PlanStaticsData,height:"300%",width:"100%"}})],1),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 15px","margin-bottom":"25px"}},[a("Chart",{attrs:{className:"deployunitchar",id:"thread",LineName:"响应时间",PlanDateData:e.responetimexdatas,StaticsData:e.responetimeydatas,height:"300%",width:"100%"}})],1),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 15px","margin-bottom":"25px"}},[a("Chart",{attrs:{className:"deployunitchar",id:"deployunit",LineName:"TPS",PlanDateData:e.TPSXData,StaticsData:e.TPSydatas,height:"300%",width:"100%"}})],1)],1)},staticRenderFns:[]};var v={components:{adminDashboard:a("VU/8")(b,x,!1,function(e){a("Kkf+")},"data-v-47d4eda7",null).exports},name:"性能统计报告",filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{currentRole:"adminDashboard"}},computed:n()({},Object(c.b)(["name","sidebar","projectlist","projectid"])),created:function(){this.search.projectid=window.localStorage.getItem("pid"),this.tmpexecplantype.projectid=window.localStorage.getItem("pid")},activated:function(){},methods:{unix2CurrentTime:i.b}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dashboard-editor-container"},[t(this.currentRole,{tag:"component"})],1)},staticRenderFns:[]};var y=a("VU/8")(v,D,!1,function(e){a("nov/"),a("xqU0")},"data-v-761ace19",null);t.default=y.exports},"Kkf+":function(e,t){},"nov/":function(e,t){},xqU0:function(e,t){}});
//# sourceMappingURL=5.16c2948ad6e1672a1022.js.map